(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[753],{3922:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/page",function(){return n(4982)}])},4982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var s=n(7876);let o=function(e){let t="h-25 w-25 bg-amber-400 m-4 "+e.className;return(0,s.jsx)("div",{className:t})};var r=n(4232);let a=function(e){let[t,n]=(0,r.useState)(0);return(0,s.jsx)("button",{onClick:()=>{n(t+1),e.onClick()},className:"bg-blue-500 text-white font-bold py-2 px-4 rounded",children:(0,s.jsx)("p",{children:e.text+" "+t})})},l=0,i=0,c=!1,d=new Event("moneyUpdated"),u={MoneyProcess:function(){void 0!=window&&window.setInterval(()=>{l+=i,c&&"undefined"==typeof window||(c=!0,document?.dispatchEvent(d))},1e3)},GetMoney:function(){return l},AddIncome:function(e){i+=e},GetIncome:function(){return i}},m=[],h=new Event("slotsUpdated"),p={BuySlot:function(){var e;console.log("Buying slot "+(m=[...m,{hasPlant:!1,hasWorker:!1,growthProgress:0}]).length),null==(e=document)||e.dispatchEvent(h)},PlantWorkerInNextAvailableSlot:function(){var e;for(let e=0;e<m.length;e++)if(!m[e].hasWorker){m[e].hasWorker=!0;break}u.AddIncome(10),null==(e=document)||e.dispatchEvent(h)},GetSlots:function(){return m}},f={items:[{name:"worker",cost:100,description:"A worker that can be assigned to tasks.",purchase:()=>p.PlantWorkerInNextAvailableSlot()},{name:"plot",cost:2e3,description:"A worker that can be assigned to tasks.",purchase:()=>p.BuySlot()}]},v={},b={BuyItemFromStore:function(e){let t=f.items[e];void 0!=t&&(void 0==v[t.name]&&(v[t.name]=0),v[t.name]+=1)},items:f},g=function(){var e;let[t,n]=(0,r.useState)(0),[o,l]=(0,r.useState)(0);null==(e=document)||e.addEventListener("moneyUpdated",()=>{n(u.GetMoney()),l(u.GetIncome())});let i=[];for(let e=0;e<b.items.items.length;e++){let t=b.items.items[e].name;i.push((0,s.jsx)(a,{text:t,onClick:()=>{var t;return t=e,void(b.BuyItemFromStore(t),b.items.items[t].purchase())}},e))}return(0,s.jsxs)("div",{className:"top-0 left-0 h-screen flex flex-col bg-amber-950",children:[(0,s.jsx)("h2",{children:"Sidebar"}),i.map(e=>e),(0,s.jsx)("p",{className:"align-bottom p-10",children:"$"+o+" /s"}),(0,s.jsx)("p",{className:"align-bottom p-10",children:"$"+t})]})};function x(){var e;let[t,n]=(0,r.useState)(p.GetSlots);return null==(e=document)||e.addEventListener("slotsUpdated",()=>{n(p.GetSlots())}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(g,{}),(0,s.jsx)("div",{className:"grid grid-cols-6 gap-4",children:t.map((e,t)=>{u.MoneyProcess();let n="";return e.hasPlant&&(n+=" bg-green-400"),e.hasWorker&&(console.log("Worker in slot "+t),n+=" border-8 border-blue-400"),(0,s.jsx)(o,{className:n},t)})})]})}n(8115)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(3922)),_N_E=e.O()}]);